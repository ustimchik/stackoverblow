// This piece of code handles AJAX 401 and 403 errors generated by Devise and CanCan.
$(document).on('ajax:error', function (e) {
    var error = e.detail[2].status;
    var message = e.detail[0].error || e.detail[0];
    if (error == 403 || error == 401 ) {
        $('.notice').html(message);
        $('.notice').addClass('alert-danger');
    }
});